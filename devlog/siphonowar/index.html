

























<!DOCTYPE html>
<html lang="en" class="light-mode">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="Josiah Putman - Siphonowar" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://katsutoshii.github.io&#x2F;&#x2F;devlog&#x2F;siphonowar&#x2F;" />
    <meta property="og:description"
        content="Bevy is a refreshingly simple data-driven game engine built in Rust. It is free and open-source forever!" />
    <link rel="shortcut icon" type="image/svg" href="/assets/rust-logo-light.svg">
    <link rel="stylesheet" href="/site.css" />
    <link href="/atom.xml" rel="alternate" type="application/atom+xml" />
    <title>Josiah Putman - Siphonowar</title>
    







<script src="/optional-helpers.js"></script>
<script defer src="/highlight-intrapage-link.js"></script>

</head>

<body>
    <div class="layout">
        <input id="mobile-menu-state" class="hidden" type="checkbox">
        <header class="layout__header header print:hidden" data-mobile-menu-state-container>
            <div class="header__content">
                <label class="main-menu-backdrop" for="mobile-menu-state"></label>
                <label class="header__hamburger button-square button-square--header" for="mobile-menu-state">
                    <img src="/assets/icon-hamburger.svg" alt="Three horizontal lines stacked on top of eachother"
                        width="20" height="16">
                </label>
                <div class="header__left-block">
                    <div class="header__bold_message">
                        Josiah Putman
                    </div>
                    <div class="header__message">
                        




                    </div>
                </div>
                
<input id="page-menu-switch-state" class="hidden" type="checkbox" checked>

                <nav class="header__menu main-menu main-menu--with-page-menu"
                    role="navigation" data-page-menu-switch-state-container>
                    <div class="main-menu__header">
                        <a href="/">
                            <picture class="logo">
                                <img class="logo" src="/assets/opensource.svg" alt="Josiah Putman" width="520"
                                    height="130" />
                            </picture>
                        </a>
                        <label class="button-square button-square--header" for="mobile-menu-state">
                            <img src="/assets/icon-times.svg" alt="A saltire or x-cross" width="16" height="16">
                        </label>
                    </div>
                    
<div class="main-menu__page-menu-switch">
  <label class="menu-switch" for="page-menu-switch-state">
    <div class="menu-switch__option menu-switch__option--main-menu">Main Menu</div>
    <div class="menu-switch__option menu-switch__option--page-menu">
      






    </div>
  </label>
</div>

                    <div class="main-menu__content">
                        <div class="main-menu__page-menu">
                            

  <ul class="tree-menu">
    
    
    
    
    
      
        
          
  
  
  
  
  
  
    
  
  
  <li class="tree-menu__item tree-menu__item--active">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;devlog&#x2F;siphonowar&#x2F;">Siphonowar</a>
      
        
<nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link>
  
  <ul>
  
    <li>
      <a href="#fog-of-war">Fog of war</a>
      
    </li>
  
  </ul>
</nav>

      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;devlog&#x2F;zola&#x2F;">Zola</a>
      
    </div>
  </li>

        
      
    
  </ul>


                        </div>
                        <ul class="main-menu__menu">
                            
                            
                            
                            
                            <li class="main-menu__entry">
                                <a href="&#x2F;" class="main-menu__link">
                                    <span>About</span>
                                </a>
                            </li>
                            
                            
                            
                            <li class="main-menu__entry">
                                <a href="&#x2F;projects&#x2F;" class="main-menu__link">
                                    <span>Projects</span>
                                </a>
                            </li>
                            
                            
                            
                            <li class="main-menu__entry">
                                <a href="&#x2F;resume&#x2F;" class="main-menu__link">
                                    <span>Resume</span>
                                </a>
                            </li>
                            
                            
                            
                            <li class="main-menu__entry">
                                <a href="&#x2F;devlog&#x2F;" class="main-menu__link">
                                    <span>Devlog</span>
                                </a>
                            </li>
                            
                        </ul>
                    </div>
                </nav>
                <div class="header__cta-container">
                    <a class="header__cta header__cta--github"
                        href="https://github.com/Katsutoshii/katsutoshii.github.io">
                        <img src="/assets/profiles/github-mark-white.svg" alt="GitHub repo" width="98" height="96" />
                    </a>
                </div>
            </div>
        </header>
        <main class="layout__content">
            <div class="container">
                
<div class="page-with-menu ">
  <div class="page-with-menu__menu-wrapper print:hidden">
    <div class="page-with-menu__menu">
      

  <ul class="tree-menu">
    
    
    
    
    
      
        
          
  
  
  
  
  
  
    
  
  
  <li class="tree-menu__item tree-menu__item--active">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;devlog&#x2F;siphonowar&#x2F;">Siphonowar</a>
      
        
<nav aria-label="On This Page" class="on-this-page tree-menu__toc" data-highlight-intrapage-link>
  
  <ul>
  
    <li>
      <a href="#fog-of-war">Fog of war</a>
      
    </li>
  
  </ul>
</nav>

      
    </div>
  </li>

        
      
        
          
  
  
  
  
  
  
  
  <li class="tree-menu__item">
    <div class="tree-menu__label">
      <a class="tree-menu__link" href="&#x2F;devlog&#x2F;zola&#x2F;">Zola</a>
      
    </div>
  </li>

        
      
    
  </ul>


    </div>
  </div>
  <div class="page-with-menu__content">
    
<div class="docs-page">
    <div class="docs-content">

        
        
        
        
        
        
        
        
        
        
        
        
        <h1>
            Siphonowar
        </h1>
        <div class="media-content">
            <p>Here I document my work on Siphonowar, an RTS based in the bottom of the ocean floor where the player controls a complex organism called a Siphonophore.
I started this project to learn the <a href="https://bevy.org">Bevy Game Engine</a>.</p>
<h2 id="fog-of-war">Fog of war<a class="zola-anchor" href="#fog-of-war" aria-label="Anchor link for: fog-of-war">ðŸ”—</a></h2>
<pre data-lang="wgsl" class="language-wgsl z-code"><code class="language-wgsl" data-lang="wgsl"><span class="z-text z-plain">@group(2) @binding(0) var&lt;uniform&gt; color: vec4&lt;f32&gt;;
</span><span class="z-text z-plain">@group(2) @binding(1) var&lt;uniform&gt; size: GridSpec;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">@group(2) @binding(2) var visibility_texture_a: texture_2d&lt;f32&gt;;
</span><span class="z-text z-plain">@group(2) @binding(3) var texture_sampler_a: sampler;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">@group(2) @binding(4) var visibility_texture_b: texture_2d&lt;f32&gt;;
</span><span class="z-text z-plain">@group(2) @binding(5) var texture_sampler_b: sampler;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">@group(2) @binding(6) var visibility_texture_c: texture_2d&lt;f32&gt;;
</span><span class="z-text z-plain">@group(2) @binding(7) var texture_sampler_c: sampler;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">@fragment
</span><span class="z-text z-plain">fn fragment(mesh: VertexOutput) -&gt; @location(0) vec4&lt;f32&gt; {
</span><span class="z-text z-plain">    let g = grid_coords(size, mesh.world_position.xy);
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    let path2 = vec2&lt;f32&gt;(-1.0, 0.33);
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    var output_color = color;
</span><span class="z-text z-plain">    let sin_t = sin(1.4 * globals.time);
</span><span class="z-text z-plain">    let sin_xt = sin(2.26 * globals.time);
</span><span class="z-text z-plain">    let noise1_xy = vec2&lt;f32&gt;(g.x + sin_t, g.y - sin_xt) * 0.2;
</span><span class="z-text z-plain">    let noise1 = perlin_noise_2d(noise1_xy);
</span><span class="z-text z-plain">    let noise2_xy = vec2&lt;f32&gt;(g.x + 0.2 * sin_xt, g.y + 0.5 * sin_t) * path2 * 0.2;
</span><span class="z-text z-plain">    let noise2 = perlin_noise_2d(noise2_xy);
</span><span class="z-text z-plain">    let noise = (noise1 + noise2) / 2;
</span><span class="z-text z-plain">    let noise_amount = 0.3;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    var uv = mesh.uv;
</span><span class="z-text z-plain">    uv.y = 1.0 - uv.y;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    let e = 0.004;
</span><span class="z-text z-plain">    let fog_a = textureSample9(visibility_texture_a, texture_sampler_a, uv, e).r;
</span><span class="z-text z-plain">    let fog_b = textureSample9(visibility_texture_b, texture_sampler_b, uv, e).r;
</span><span class="z-text z-plain">    let fog_c = textureSample9(visibility_texture_c, texture_sampler_c, uv, e).r;
</span><span class="z-text z-plain">    var fog_amount = (fog_a + fog_b + fog_c) / 3.0;
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">    let alpha = 1.0 - fog_amount;
</span><span class="z-text z-plain">    output_color.a *= alpha + noise_amount * max(noise, 0.);
</span><span class="z-text z-plain">    return output_color;
</span><span class="z-text z-plain">}
</span></code></pre>

            
        </div>
        <div class="docs-footer print:hidden">
        </div>
    </div>
</div>

  </div>
</div>

            </div>
        </main>
        <footer class="print:hidden">
        </footer>
    </div>

    <footer class="print:hidden">
        
        <div class="footer__social-container">
            
            
            
            <a class="footer__social" href="https:&#x2F;&#x2F;github.com&#x2F;Katsutoshii" title="GitHub">
                <img src="&#x2F;assets&#x2F;profiles&#x2F;github-mark-white.svg" alt="GitHub" width="24" height="24" />
            </a>
            
            
            
            <a class="footer__social" href="https:&#x2F;&#x2F;bsky.app&#x2F;profile&#x2F;katsutoshii.bsky.social" title="BlueSky">
                <img src="&#x2F;assets&#x2F;profiles&#x2F;bluesky.svg" alt="BlueSky" width="24" height="24" />
            </a>
            
            
            
            <a class="footer__social" href="https:&#x2F;&#x2F;bsky.app&#x2F;profile&#x2F;katsutoshii.bsky.social" title="LinkedIn">
                <img src="&#x2F;assets&#x2F;profiles&#x2F;linkedin.svg" alt="BlueSky" width="24" height="24" />
            </a>
            
            
        </div>
    </footer>
    </div>
</body>

</html>